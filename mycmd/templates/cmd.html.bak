<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>login</title>

	<link href="http://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <form action="cmd.html" method="post">          

	    <div class="form-group">
		<div class="input-group">				  
		<input  type="file" name="filename" value="{{ u_file_frompage.as_p }}" placeholder="">
		    <div class="input-group-addon" id="ok">ok</div>
		</div>
	    </div>
           
            <div class="form-group">
                <label class="sr-only">u_cmd</label>
                <input type="text" class="form-control" name="u_cmd" id="u_cmd"  placeholder="command"/>
            </div>

            <div class="form-group">
                <label class="sr-only">u_host</label>
                <input type="u_host" class="form-control" name="u_host" placeholder="host"/>
            </div>

            <div class="form-group">
                <input class="btn btn-primary" type="submit" value="submit to server2">
            </div>
            {{ error_info }}
        </form>
</div>
<script type="application/javascript" src="http://cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script>
$("#ok").click(function(){
$.ajax({
  type:'POST',
  url: '/admin/',
  data:{filename:u_file_frompage},
  success:function(){
  console.log(485555)
  }
})
})

{#    根据<input>的id获取设定输入框焦点离开时的操作#}
    $('#u_cmd').blur(function(){
{#       获取用户输入的用户名 #}
       var input_name=$(this).val();
{#       调用ajax提交数据 #}
       $.ajax({
{#                指定提交的url#}
                url:"/cmd/",
{#                指定将获取的用户名提交给login()函数里的username变量用于验证#}
                data:{username:input_name},
{#                指定提交的数据的格式#}
                type:'POST',
{#                success用来接收login()函数执行之后的return HttpResponse返回值#}
                success:function(arg){
{#                    用arg接收到返回值后通过alert将返回的内容输出到页面上#}
                    alert(arg)
                }
            });
    });
</script>
</body>
</html>
